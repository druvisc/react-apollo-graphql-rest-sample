(this["webpackJsonpreact-apollo-graphql-rest-sample"]=this["webpackJsonpreact-apollo-graphql-rest-sample"]||[]).push([[0],{79:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),c=n(66),l=n.n(c),o=n(63),u=n(65),s=n(62),i=n(67),d=n(55),h=n(48),p=n(49),m=n(54),g=n(50),E=n(56),b=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(g.a)(t).call(this,e))).state={error:null},n}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.error?this.props.errorRender?this.props.errorRender(Object(d.a)({},this.props,{error:this.state.error})):r.a.createElement("h1",null,"Couldn't display element."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(r.a.Component),f=n(53),v=n(64),x=function(e){return"".concat(e<10?"0":"").concat(e)},y=function(e){return"".concat(e.getFullYear(),"-").concat(x(e.getMonth()+1),"-").concat(x(e.getDate()))},O=n(51),j=n(32);function k(){var e=Object(O.a)(['\n  query ExchangeRatesQuery($date: String!) {\n    exchangeRates(date: $date) @rest(type: "ExchangeRates", endpoint: "exchangerates" path: "{args.date}") {\n      _id: date\n      date\n      base\n      rates\n    }\n  }\n']);return k=function(){return e},e}function R(){var e=Object(O.a)(['\n  query ExchangeRatesLatestQuery {\n    exchangeRates @rest(type: "ExchangeRates", endpoint: "exchangerates" path: "latest/") {\n      date\n      base\n      rates\n    }\n  }\n']);return R=function(){return e},e}Object(j.a)(R());var w=Object(j.a)(k()),C=new Date,D=y(C);var q=function(e){var t=e.initialDate,n=void 0===t?C:t,c=Object(a.useState)(n),l=Object(f.a)(c,2),o=l[0],u=l[1],s=y(o),i=Object(v.a)(w,{variables:{date:s},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),d=Object(f.a)(i,2),h=d[0],p=d[1],m=p.called,g=p.loading,E=p.error,b=p.data,x=p.refetch,O=function(e){var t=new Date(s);t.setDate(t.getDate()+e),u(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"date"},s),r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement("button",{name:"previous",onClick:function(){return O(-1)}},"Previous"),r.a.createElement("button",{name:"load",onClick:function(){return m?x():h()}},"Load exchange rates"),r.a.createElement("button",{name:"next",disabled:s===D,onClick:function(){return O(1)}},"Next"))}),null),r.a.createElement((function(){return m?g?r.a.createElement("p",null,"Loading..."):E?r.a.createElement("p",null,"Couldn't load exchange rates."):b.exchangeRates.date!==s?r.a.createElement("p",null,"Exchange rates aren't available for ",s,"."):r.a.createElement("table",null,r.a.createElement("tbody",null,Object.keys(b.exchangeRates.rates).map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,e),r.a.createElement("td",null,b.exchangeRates.rates[e]))})))):null}),null))},L=new o.a({link:new i.RestLink({endpoints:{exchangerates:{uri:"https://api.exchangeratesapi.io/"}}}),cache:new u.a});var S=function(){return r.a.createElement(s.a,{client:L},r.a.createElement(b,null,r.a.createElement(q,null)))};l.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.b62f05be.chunk.js.map